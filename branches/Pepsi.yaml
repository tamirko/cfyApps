tosca_definitions_version: cloudify_dsl_1_3
imports:
  - 'http://www.getcloudify.org/spec/cloudify/3.4/types.yaml'

inputs:
  Company: {}
  antivirus: {}
  NewYork_lte_value:: 
    default: ""
  NewYork_Serial_id:: 
    default: ""
  NewYork_VDSL_value:: 
    default: ""
  NewYork_METRO_value:: 
    default: ""
  conf_room_NewYork_max_capacity:: 
    default: ""
  Chicago_lte_value:: 
    default: ""
  Chicago_Serial_id:: 
    default: ""
  Chicago_VDSL_value:: 
    default: ""
  Chicago_METRO_value:: 
    default: ""
  conf_room_Chicago_max_capacity:: 
    default: ""
  Washington_lte_value:: 
    default: ""
  Washington_Serial_id:: 
    default: ""
  Washington_VDSL_value:: 
    default: ""
  Washington_METRO_value:: 
    default: ""
  conf_room_Washington_max_capacity:: 
    default: ""
  Boston_lte_value:: 
    default: ""
  Boston_Serial_id:: 
    default: ""
  Boston_VDSL_value:: 
    default: ""
  Boston_METRO_value:: 
    default: ""
  conf_room_Boston_max_capacity:: 
    default: ""
node_types:
  CPE_type:
    derived_from: cloudify.nodes.Root
    properties:
      LTE:
        required: false
      Serial:
        required: false
      VDSL:
        required: false
      METRO:
        required: false
  TerminationPoint_type:
    derived_from: cloudify.nodes.Root
  JunctionPoint_type:
    derived_from: cloudify.nodes.Root
  Branch_type:
    derived_from: cloudify.nodes.Root
    properties:
      company:
        required: true
        type: string
  VNF_type:
    derived_from: cloudify.nodes.Root
    properties:
      anti_virus:
        required: false
  component_type:
    derived_from: cloudify.nodes.Root
    properties:
      capacity:
        required: false
      status:
        required: false

node_templates:
  TerminationPoint:
    type: TerminationPoint_type
    relationships:
      - type: cloudify.relationships.connected_to
        target: Fortigate

  Fortigate:
    type: VNF_type
    properties:
      anti_virus: { get_input: antivirus }

  NewYork:
    type: CPE_type
    properties:
      LTE: { get_input: NewYork_lte_value: }
      Serial: { get_input: NewYork_Serial_id: }
      VDSL: { get_input: NewYork_VDSL_value: }
      METRO: { get_input: NewYork_METRO_value: }
    relationships:
      - type: cloudify.relationships.connected_to
        target: TerminationPoint

  data_center_NewYork: 
    type: component_type
    properties:
      capacity: 300
    relationships:
      - target: NewYork
        type: cloudify.relationships.contained_in

  conf_room_NewYork: 
    type: component_type
    properties:
      capacity: { get_input: conf_room_NewYork_max_capacity: }
      status: ok
    relationships:
      - target: NewYork
        type: cloudify.relationships.contained_in
  Chicago:
    type: CPE_type
    properties:
      LTE: { get_input: Chicago_lte_value: }
      Serial: { get_input: Chicago_Serial_id: }
      VDSL: { get_input: Chicago_VDSL_value: }
      METRO: { get_input: Chicago_METRO_value: }
    relationships:
      - type: cloudify.relationships.connected_to
        target: TerminationPoint

  data_center_Chicago: 
    type: component_type
    properties:
      capacity: 300
    relationships:
      - target: Chicago
        type: cloudify.relationships.contained_in

  conf_room_Chicago: 
    type: component_type
    properties:
      capacity: { get_input: conf_room_Chicago_max_capacity: }
      status: ok
    relationships:
      - target: Chicago
        type: cloudify.relationships.contained_in
  Washington:
    type: CPE_type
    properties:
      LTE: { get_input: Washington_lte_value: }
      Serial: { get_input: Washington_Serial_id: }
      VDSL: { get_input: Washington_VDSL_value: }
      METRO: { get_input: Washington_METRO_value: }
    relationships:
      - type: cloudify.relationships.connected_to
        target: TerminationPoint

  data_center_Washington: 
    type: component_type
    properties:
      capacity: 300
    relationships:
      - target: Washington
        type: cloudify.relationships.contained_in

  conf_room_Washington: 
    type: component_type
    properties:
      capacity: { get_input: conf_room_Washington_max_capacity: }
      status: ok
    relationships:
      - target: Washington
        type: cloudify.relationships.contained_in
  Boston:
    type: CPE_type
    properties:
      LTE: { get_input: Boston_lte_value: }
      Serial: { get_input: Boston_Serial_id: }
      VDSL: { get_input: Boston_VDSL_value: }
      METRO: { get_input: Boston_METRO_value: }
    relationships:
      - type: cloudify.relationships.connected_to
        target: TerminationPoint

  data_center_Boston: 
    type: component_type
    properties:
      capacity: 300
    relationships:
      - target: Boston
        type: cloudify.relationships.contained_in

  conf_room_Boston: 
    type: component_type
    properties:
      capacity: { get_input: conf_room_Boston_max_capacity: }
      status: ok
    relationships:
      - target: Boston
        type: cloudify.relationships.contained_in
groups: {}
